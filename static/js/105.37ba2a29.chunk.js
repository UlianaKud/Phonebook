"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[105],{9105:function(n,t,e){e.r(t),e.d(t,{default:function(){return V}});var a=e(2791),r=e(107),o=e(9434),c=e(6916),s=function(n){return n.contacts.items},i=function(n){return n.contacts.isLoading},u=function(n){return n.contacts.error},l=(0,c.P1)([s,function(n){return n.filter}],(function(n,t){var e=null===t||void 0===t?void 0:t.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(e)}))})),d=e(1686),m=e.n(d),p={form:"form_form__sP2jI",button:"form_button__uA2lI",label:"form_label__l9+qL",input:"form_input__Hf2Sl"},h=e(9504),f=e.n(h),v=e(4801),_=e(6151),x=e(184),j=function(){var n=(0,o.I0)(),t=(0,o.v9)(s),e=(0,a.useRef)(null);(0,a.useEffect)((function(){e.current.getSelection()}),[]);return(0,x.jsxs)("form",{onSubmit:function(a){a.preventDefault(),a.stopPropagation();var o=a.target,c=o.elements.name.value.toLowerCase();t.find((function(n){return n.name.toLowerCase()===c}))?m().Notify.warning("".concat(c," is already in contacts")):(n((0,r.G3)({name:o.elements.name.value,number:o.elements.number.value})),e.current.setInputValue(""),o.reset())},className:p.form,children:[(0,x.jsxs)("div",{className:p.inputWrapper,children:[(0,x.jsx)(v.Z,{id:"outlined-basic",label:"Name",variant:"outlined",required:!0,inputProps:{className:p.input,name:"name",pattern:"[A-Za-z]{1,32}",title:"Username must be one word"}}),(0,x.jsx)("span",{})]}),(0,x.jsxs)("div",{className:p.inputWrapper,children:[(0,x.jsx)(f(),{mask:"+3\\8(999)9999999",maskChar:" ",ref:e,children:function(){return(0,x.jsx)(v.Z,{id:"outlined-basic",label:"Number",variant:"outlined",required:!0,inputProps:{className:p.input,name:"number",type:"tel",pattern:"[+]d{2}[(]d{3}[)]d{7}",title:"Phone number must have format +38(050)1234567 and can start with +"}})}}),(0,x.jsx)("span",{})]}),(0,x.jsx)(_.Z,{variant:"outlined",type:"submit",className:p.button,children:"Add Contact"})]})},b={contactList:"contact_contactList__dhn8a",contactAvatar:"contact_contactAvatar__Mr--B",contactWrapper:"contact_contactWrapper__pklxl",contactData:"contact_contactData__CaiV-",button:"contact_button__-9f5R"},N=e(7634),k=e(493),g=e(4852),w=e(3044),C=function(){var n=(0,o.v9)((function(n){return{token:n.auth.token}})).token,t=(0,o.v9)(l),e=(0,o.v9)(i),c=(0,o.v9)(u),s=(0,o.I0)();(0,a.useEffect)((function(){console.log(n),(0,N.o4)(n),s((0,r.VC)())}),[s,n]);return(0,x.jsxs)(x.Fragment,{children:[e&&(0,x.jsx)("div",{children:"Loading..."}),c&&(0,x.jsx)("div",{children:c}),(0,x.jsx)(k.Z,{className:b.contactList,children:t.map((function(n){var t,e=n.id,a=n.name,o=n.number;return(0,x.jsxs)(g.ZP,{children:[(0,x.jsxs)("div",{className:b.contactWrapper,children:[(0,x.jsx)(w.Z,{className:b.contactAvatar,alt:a,children:null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.toUpperCase()}),(0,x.jsxs)("div",{className:b.contactData,children:[(0,x.jsxs)("span",{className:b.contactName,children:[a,":"]}),(0,x.jsx)("span",{className:b.number,children:o})]})]}),(0,x.jsx)(_.Z,{variant:"outlined",type:"button",className:b.button,onClick:function(){return n=e,void s((0,r.ku)(n));var n},children:"Delete"})]},"".concat(o,"-").concat(a))}))})]})},Z=e(6895),L="filter_input__2kUfd",A=function(){var n=(0,o.I0)();return(0,x.jsx)(v.Z,{id:"outlined-basic",label:"Find contact by name",variant:"outlined",className:L,type:"text",name:"filter",onChange:function(t){var e=t.target.value;n((0,Z.i)(e))}})},P=e(7689),y="userMenu_wrapper__JUNK0",I="userMenu_toolbar__bhuk5",D=e(4554),S=e(4395),W=e(4663),q=e(890),M=function(){var n=(0,o.I0)(),t=(0,o.v9)((function(n){return{isAuth:n.auth.token,user:n.auth.user}})),e=t.isAuth,a=t.user.email;return e?(0,x.jsx)(D.Z,{sx:{flexGrow:1},className:y,children:(0,x.jsx)(S.Z,{position:"static",children:(0,x.jsxs)(W.Z,{className:I,children:[a?(0,x.jsx)(q.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Hi, ".concat(a,"!")}):"Hi!",(0,x.jsx)(_.Z,{color:"inherit",onClick:function(){n((0,r.qN)())},children:"Log out"})]})})}):(0,x.jsx)(P.Fg,{to:"/login"})},U={wrapper:"home_wrapper__6SKAg",phonebook:"home_phonebook__v2vMo",contacts:"home_contacts__dSogV"},V=function(){return(0,x.jsxs)("div",{className:U.wrapper,children:[(0,x.jsx)(M,{}),(0,x.jsxs)("div",{className:U.phonebook,children:[(0,x.jsx)(q.Z,{className:U.headerPhonebook,align:"center",component:"div",variant:"h1",children:"Phonebook"}),(0,x.jsx)(j,{}),(0,x.jsxs)("div",{className:U.contacts,children:[(0,x.jsx)(q.Z,{className:U.headerContacts,align:"center",component:"div",variant:"h2",children:"Contacts"}),(0,x.jsx)(A,{}),(0,x.jsx)(C,{})]})]})]})}}}]);
//# sourceMappingURL=105.37ba2a29.chunk.js.map